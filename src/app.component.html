<!-- Global Noise Overlay -->
<div class="fixed inset-0 pointer-events-none z-[60] bg-noise opacity-10 mix-blend-overlay"></div>

<!-- Scroll Progress Bar -->
<div class="fixed top-0 left-0 w-full h-1 z-[60] bg-transparent pointer-events-none">
  <div class="h-full bg-navy-800 shadow-[0_0_10px_rgba(0,43,91,0.5)] transition-all duration-100 ease-out" [style.width.%]="scrollProgress()"></div>
</div>

<!-- Main View -->
<div class="transition-opacity duration-500 flex flex-col min-h-screen" [class.opacity-0]="selectedProject()" [class.pointer-events-none]="selectedProject()">
    
    <!-- Navigation -->
    <nav class="fixed w-full z-50 transition-all duration-300 border-b border-gray-200" 
         [class.py-4]="true"
         [class.md:py-6]="!isScrolled() && currentView() === 'home'" 
         [class.md:py-4]="isScrolled() || currentView() !== 'home'"
         [class.bg-white]="isScrolled() || currentView() !== 'home'"
         [class.bg-white/90]="!isScrolled() && currentView() === 'home'" 
         [class.backdrop-blur-md]="true"
         [class.shadow-sm]="isScrolled() || currentView() !== 'home'">
        <div class="container mx-auto px-6 flex justify-between md:justify-center items-center relative">
             <div (click)="navigateTo('home')" class="md:hidden text-lg font-bold font-display uppercase tracking-tighter cursor-pointer relative z-50">
                Mạnh<span class="text-navy-800">Toàn</span>
             </div>

            <!-- Desktop Menu -->
            <div class="hidden md:flex space-x-10 items-center">
                <button (click)="navigateTo('home')" class="text-xl font-bold font-display uppercase tracking-tighter mr-8 hover:opacity-80 transition-opacity">
                    Mạnh<span class="text-navy-800">Toàn</span>
                </button>
                <button (click)="navigateTo('about')" 
                        class="text-sm font-bold tracking-widest uppercase transition-colors"
                        [class.text-navy-800]="currentView() === 'about'"
                        [class.text-gray-800]="currentView() !== 'about'"
                        [class.hover:text-navy-800]="true">Giới thiệu</button>
                <button (click)="navigateTo('services')"
                        class="text-sm font-bold tracking-widest uppercase transition-colors"
                        [class.text-navy-800]="currentView() === 'services'"
                        [class.text-gray-800]="currentView() !== 'services'"
                        [class.hover:text-navy-800]="true">Dịch vụ</button>
                <button (click)="navigateTo('skills')"
                        class="text-sm font-bold tracking-widest uppercase transition-colors"
                        [class.text-navy-800]="currentView() === 'skills'"
                        [class.text-gray-800]="currentView() !== 'skills'"
                        [class.hover:text-navy-800]="true">Kỹ năng</button>
                <button (click)="navigateTo('portfolio')"
                        class="text-sm font-bold tracking-widest uppercase transition-colors"
                        [class.text-navy-800]="currentView() === 'portfolio'"
                        [class.text-gray-800]="currentView() !== 'portfolio'"
                        [class.hover:text-navy-800]="true">Dự án</button>
                <button (click)="navigateTo('contact')"
                        class="text-sm font-bold tracking-widest uppercase transition-colors"
                        [class.text-navy-800]="currentView() === 'contact'"
                        [class.text-gray-800]="currentView() !== 'contact'"
                        [class.hover:text-navy-800]="true">Liên hệ</button>
            </div>
            
            <!-- Mobile Menu Button -->
            <button (click)="toggleMobileMenu()" class="md:hidden text-gray-900 hover:text-navy-800 relative z-50">
                <i [attr.data-lucide]="isMobileMenuOpen() ? 'x' : 'menu'"></i>
            </button>
        </div>

        <!-- Mobile Dropdown -->
        @if (isMobileMenuOpen()) {
            <div class="fixed inset-0 bg-white/95 backdrop-blur-xl z-40 flex flex-col items-start justify-center px-10 space-y-6 md:hidden animate-fade-in-up">
                <button (click)="navigateTo('home')" class="text-3xl font-black font-display uppercase text-gray-900 hover:text-navy-800 transition-colors">Trang chủ</button>
                <button (click)="navigateTo('about')" class="text-3xl font-black font-display uppercase text-gray-900 hover:text-navy-800 transition-colors">Giới thiệu</button>
                <button (click)="navigateTo('services')" class="text-3xl font-black font-display uppercase text-gray-900 hover:text-navy-800 transition-colors">Dịch vụ</button>
                <button (click)="navigateTo('skills')" class="text-3xl font-black font-display uppercase text-gray-900 hover:text-navy-800 transition-colors">Kỹ năng</button>
                <button (click)="navigateTo('portfolio')" class="text-3xl font-black font-display uppercase text-gray-900 hover:text-navy-800 transition-colors">Dự án</button>
                <button (click)="navigateTo('contact')" class="text-3xl font-black font-display uppercase text-gray-900 hover:text-navy-800 transition-colors">Liên hệ</button>
            </div>
        }
    </nav>

    <!-- VIEWS -->
    <main class="flex-grow pt-28 md:pt-24">
        
        <!-- HOME VIEW -->
        @if (currentView() === 'home') {
            <div class="animate-fade-in-up relative">
                <!-- CANVAS RAIN BACKGROUND -->
                <canvas #matrixCanvas class="absolute top-0 left-0 w-full h-full pointer-events-none opacity-20 z-0"></canvas>

                <!-- Hero Section -->
                <section class="relative min-h-[85vh] flex items-center overflow-hidden bg-transparent -mt-28 md:-mt-24 pt-32 md:pt-44 pb-12"> 
                    
                    <div class="container mx-auto px-6 relative z-10 flex flex-col-reverse md:flex-row items-center gap-8 md:gap-12">
                        <div class="md:w-1/2 text-left mt-8 md:mt-0">
                            <!-- Left aligned on mobile as well for consistency -->
                            <h1 class="text-5xl sm:text-6xl md:text-9xl font-black text-gray-900 mb-6 font-display uppercase leading-[0.9] tracking-tighter">
                                Creative <br />
                                <span class="text-navy-800 glitch-wrapper relative inline-block">
                                    <span class="glitch" data-text="Designer">Designer</span>
                                </span>
                            </h1>
                            <h2 class="text-lg md:text-2xl text-gray-600 mb-10 font-light max-w-lg leading-relaxed">
                                Tôi là <span class="text-navy-800 font-bold">Mạnh Toàn</span>. Designer trẻ với tư duy thiết kế hiện đại và đam mê tạo ra những trải nghiệm số ấn tượng.
                            </h2>
                            <div class="flex flex-col sm:flex-row gap-4 justify-start">
                                <button (click)="navigateTo('portfolio')" class="bg-navy-800 text-white font-bold px-8 py-4 uppercase tracking-wider hover:bg-navy-700 transition-all shadow-lg shadow-navy-800/20 flex items-center justify-center gap-2 group rounded-sm w-full sm:w-auto">
                                    Xem dự án <i data-lucide="arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                                </button>
                                <button class="border border-gray-300 text-gray-900 font-bold px-8 py-4 uppercase tracking-wider hover:border-navy-800 hover:text-navy-800 transition-colors flex items-center justify-center gap-2 bg-white/80 backdrop-blur-sm rounded-sm w-full sm:w-auto">
                                    Download CV <i data-lucide="download" class="w-5 h-5"></i>
                                </button>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center md:justify-end relative group w-full">
                            <div class="relative w-full aspect-square max-w-[320px] md:max-w-[450px] md:h-[550px] transition-transform duration-300 mx-auto md:mx-0">
                                <div class="absolute -top-4 -right-4 md:-top-6 md:-right-6 w-16 h-16 md:w-24 md:h-24 border-t-2 border-r-2 border-navy-800 opacity-20"></div>
                                <div class="absolute -bottom-4 -left-4 md:-bottom-6 md:-left-6 w-16 h-16 md:w-24 md:h-24 border-b-2 border-l-2 border-gray-300 opacity-50"></div>
                                <div class="absolute inset-0 bg-beige-100 shadow-2xl overflow-hidden">
                                    <img src="https://picsum.photos/600/800?grayscale" alt="Bùi Mạnh Toàn" class="w-full h-full object-cover opacity-90 hover:opacity-100 grayscale hover:grayscale-0 transition-all duration-700 rgb-split" />
                                </div>
                                <div class="absolute -bottom-10 right-0 text-xs font-mono text-navy-800 opacity-50 hidden md:block">
                                    // SYSTEM.READY<br/>
                                    // DESIGN.INIT<br/>
                                    // ART.RENDER
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Marquee Section -->
                <div class="relative bg-navy-800 py-4 md:py-6 transform -rotate-1 my-12 md:my-20 z-20 flex flex-col gap-2 overflow-hidden shadow-xl border-y-2 border-white/20">
                    <div class="flex overflow-hidden">
                        <div class="animate-marquee whitespace-nowrap flex gap-4 md:gap-8 font-black text-2xl md:text-5xl uppercase font-display tracking-tighter items-center shrink-0 min-w-full text-white">
                            Creative Design <span class="text-beige-200">/</span> Web Development <span class="text-beige-200">/</span> UI/UX Interface <span class="text-beige-200">/</span> Branding <span class="text-beige-200">/</span>
                        </div>
                    </div>
                </div>

                <!-- CTA Section -->
                <section class="py-20 md:py-32 bg-navy-900 relative">
                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10"></div>
                    <div class="container mx-auto px-6 text-center relative z-10 reveal zoom-in">
                        <h2 class="text-5xl md:text-9xl font-black text-white font-display mb-6 md:mb-8 leading-[0.9] uppercase tracking-tighter">
                            Let's Build <br/> <span class="text-transparent bg-clip-text bg-gradient-to-b from-beige-200 to-beige-300 glitch-wrapper inline-block"><span class="glitch" data-text="The Future">The Future</span></span>
                        </h2>
                        <p class="text-gray-300 text-base md:text-lg max-w-xl mx-auto mb-10 md:mb-12 font-medium px-4">
                            Bạn có tầm nhìn. Tôi có giải pháp. Hãy biến ý tưởng thành hiện thực.
                        </p>
                        <button (click)="navigateTo('contact')" class="inline-flex items-center gap-4 bg-beige-200 text-navy-900 px-8 py-4 md:px-12 md:py-6 font-bold text-base md:text-lg uppercase tracking-widest hover:bg-white transition-colors rounded-sm shadow-2xl">
                            Start Project <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </button>
                    </div>
                </section>
            </div>
        }

        <!-- ABOUT VIEW -->
        @if (currentView() === 'about') {
            <section class="py-12 md:py-20 bg-white relative overflow-hidden animate-fade-in-up">
                <!-- Background Decoration -->
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03] pointer-events-none transition-transform duration-300 ease-out md:block hidden"
                     [style.transform]="'translate(' + (mouseX() * -20) + 'px, ' + (mouseY() * -20) + 'px)'"></div>
                
                <div class="container mx-auto px-6 relative z-10">
                    <div class="mb-8 md:mb-12 border-b border-gray-200 pb-4 md:pb-6 text-left">
                        <h1 class="text-4xl md:text-6xl font-black text-gray-900 font-display uppercase tracking-tight">Giới Thiệu</h1>
                        <p class="text-gray-500 font-bold uppercase tracking-widest mt-2 text-xs md:text-base">Câu chuyện & Giá trị cốt lõi</p>
                    </div>

                    <div class="flex flex-col lg:flex-row items-start gap-12 md:gap-16">
                        <!-- Image Section -->
                        <div class="w-full lg:w-5/12 relative reveal fade-right isolate">
                            <div class="absolute top-4 -left-4 w-full h-full border-2 border-navy-800/30 z-0 bg-transparent hidden md:block transition-transform duration-100"
                                 [style.transform]="'translate(' + (mouseX() * -30) + 'px, ' + (mouseY() * -30) + 'px)'">
                            </div>
                            <div class="relative z-10 shadow-2xl overflow-hidden group">
                                <img src="https://picsum.photos/800/1000?grayscale" alt="About" class="relative z-10 object-cover h-[400px] md:h-[700px] w-full grayscale contrast-125 hover:grayscale-0 transition-all duration-700 hover:scale-105 rgb-split" />
                                <div class="absolute inset-0 bg-navy-900/10 mix-blend-overlay pointer-events-none"></div>
                            </div>
                            <!-- Card removed on mobile to prevent occlusion -->
                            <div class="absolute bottom-6 md:bottom-10 -left-4 md:-left-10 z-20 bg-white/90 backdrop-blur-sm border border-gray-200 p-4 md:p-6 shadow-2xl max-w-[200px] md:max-w-xs transition-transform duration-150 hidden md:block"
                                 [style.transform]="'translate(' + (mouseX() * 40) + 'px, ' + (mouseY() * 40) + 'px)'">
                                <p class="text-2xl md:text-4xl font-black text-navy-800 font-display uppercase">Gen Z</p>
                                <p class="text-gray-500 text-[10px] md:text-xs font-bold uppercase tracking-widest mt-2">Creative Mindset</p>
                            </div>
                        </div>

                        <div class="w-full lg:w-7/12 pt-0 md:pt-4 reveal fade-left">
                            <h2 class="text-3xl md:text-7xl font-black text-gray-900 mb-6 md:mb-8 font-display leading-none uppercase text-left">
                                More than just <br/> <span class="text-navy-800 glitch-wrapper inline-block"><span class="glitch" data-text="Visuals">Visuals</span></span>
                            </h2>
                            <div class="space-y-4 md:space-y-6 text-gray-600 text-base md:text-lg leading-relaxed mb-8 md:mb-10 text-left">
                                <p>Xin chào, tôi là <strong class="text-navy-900">Bùi Mạnh Toàn</strong>. Hiện là sinh viên năm 2 chuyên ngành Thiết kế Đồ họa.</p>
                                <p>Dù đang ngồi trên ghế nhà trường, tôi luôn chủ động tìm tòi và áp dụng những công nghệ thiết kế mới nhất. Tôi tin rằng sự nhiệt huyết của tuổi trẻ cộng với tư duy thẩm mỹ hiện đại là vũ khí mạnh nhất.</p>
                            </div>
                            
                            <!-- Quote Box -->
                            <div class="relative bg-beige-100/80 border-l-4 border-navy-800 p-6 md:p-8 mb-8 md:mb-10 hover:shadow-lg transition-all text-left">
                                <div class="absolute -top-4 -left-2 text-navy-800 text-6xl opacity-20 font-serif">"</div>
                                <p class="text-lg md:text-2xl font-bold text-navy-900 font-display uppercase italic leading-relaxed">
                                    "Học hỏi không ngừng. Sáng tạo không giới hạn. Tôi biến những ý tưởng táo bạo thành hiện thực."
                                </p>
                            </div>
                            
                            <!-- Core Values -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-0 border border-gray-200 bg-white/80">
                                <div class="p-6 border-b md:border-b-0 md:border-r border-gray-200 hover:bg-beige-100 transition-colors group flex md:block items-center gap-4 text-left">
                                    <i data-lucide="target" class="text-gray-400 md:mb-4 group-hover:text-navy-800 w-7 h-7 transition-transform group-hover:scale-110 shrink-0"></i>
                                    <div>
                                        <h4 class="text-gray-900 font-bold md:mb-2 font-display uppercase text-sm">Sáng tạo</h4>
                                        <p class="text-[11px] text-gray-600">Luôn tìm kiếm góc nhìn mới mẻ.</p>
                                    </div>
                                </div>
                                <div class="p-6 border-b md:border-b-0 md:border-r border-gray-200 hover:bg-beige-100 transition-colors group flex md:block items-center gap-4 text-left">
                                    <i data-lucide="heart" class="text-gray-400 md:mb-4 group-hover:text-navy-800 w-7 h-7 transition-transform group-hover:scale-110 shrink-0"></i>
                                    <div>
                                        <h4 class="text-gray-900 font-bold md:mb-2 font-display uppercase text-sm">Nhiệt huyết</h4>
                                        <p class="text-[11px] text-gray-600">100% tâm huyết vào từng sản phẩm.</p>
                                    </div>
                                </div>
                                <div class="p-6 hover:bg-beige-100 transition-colors group flex md:block items-center gap-4 text-left">
                                    <i data-lucide="zap" class="text-gray-400 md:mb-4 group-hover:text-navy-800 w-7 h-7 transition-transform group-hover:scale-110 shrink-0"></i>
                                    <div>
                                        <h4 class="text-gray-900 font-bold md:mb-2 font-display uppercase text-sm">Học hỏi</h4>
                                        <p class="text-[11px] text-gray-600">Không ngại công nghệ mới.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        }

        <!-- SERVICES VIEW -->
        @if (currentView() === 'services') {
            <div class="animate-fade-in-up">
                <section class="py-12 md:py-20 bg-beige-100 min-h-screen">
                    <div class="container mx-auto px-6">
                        <div class="mb-12 border-b border-gray-300 pb-6 reveal fade-up text-left">
                            <h1 class="text-4xl md:text-6xl font-black text-gray-900 font-display uppercase tracking-tight">Dịch Vụ</h1>
                            <p class="text-navy-800 font-bold uppercase tracking-widest mt-2 text-xs md:text-base">Giải pháp thiết kế toàn diện</p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            @for (service of services; track service.title) {
                                <div class="reveal fade-up">
                                    <div class="group h-full bg-white p-6 md:p-8 border border-gray-200 shadow-sm hover:shadow-lg hover:border-navy-800 transition-all duration-300 flex flex-col rounded-sm">
                                        <div class="w-12 h-12 bg-beige-200 flex items-center justify-center mb-6 group-hover:bg-navy-800 transition-colors duration-300 rounded-sm shrink-0 mr-auto md:mr-0">
                                            <i [attr.data-lucide]="service.icon" class="text-gray-600 group-hover:text-white"></i>
                                        </div>
                                        <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-3 font-display uppercase tracking-tight text-left">{{service.title}}</h3>
                                        <p class="text-gray-600 leading-relaxed mb-4 md:mb-6 text-xs md:text-sm text-left">{{service.desc}}</p>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </section>

                <!-- Process Section -->
                <section class="py-20 md:py-32 bg-white border-t border-gray-200">
                    <div class="container mx-auto px-6 relative z-10">
                        <div class="mb-12 md:mb-20 reveal fade-up text-left">
                            <span class="text-navy-800 font-bold tracking-widest uppercase text-xs">Workflow</span>
                            <h2 class="text-4xl md:text-6xl font-black text-gray-900 mt-2 font-display uppercase">Quy trình làm việc</h2>
                        </div>
                        <div class="relative">
                            <div class="hidden lg:block absolute top-8 left-0 w-full h-[1px] bg-gray-300"></div>
                            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-8">
                                @for (step of process; track step.id) {
                                    <div class="reveal fade-up">
                                        <div class="relative group">
                                            <div class="flex flex-col md:block items-start text-left">
                                                <div class="mb-4 md:mb-10 w-16 h-16 bg-white border border-gray-300 flex items-center justify-center group-hover:border-navy-800 group-hover:bg-navy-800 transition-all duration-500 relative z-10 shadow-md shrink-0">
                                                    <i [attr.data-lucide]="step.icon" class="text-gray-400 group-hover:text-white transition-colors"></i>
                                                    <div class="absolute -top-3 -right-3 w-6 h-6 bg-navy-800 text-white flex items-center justify-center font-bold text-xs shadow-sm">{{step.id}}</div>
                                                </div>
                                                <div class="pr-0 md:pr-4">
                                                    <h3 class="text-lg font-bold text-gray-900 mb-2 md:mb-3 font-display uppercase md:min-h-[56px]">{{step.title}}</h3>
                                                    <p class="text-gray-600 text-xs leading-relaxed max-w-xs md:mx-0">{{step.desc}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        }

        <!-- SKILLS VIEW -->
        @if (currentView() === 'skills') {
            <section class="py-12 md:py-20 bg-white relative animate-fade-in-up">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-[0.03]"></div>
                <div class="container mx-auto px-6 relative z-10">
                    <div class="mb-12 border-b border-gray-200 pb-6 reveal fade-up text-left">
                        <h1 class="text-4xl md:text-6xl font-black text-gray-900 font-display uppercase tracking-tight">Kỹ Năng</h1>
                        <p class="text-navy-800 font-bold uppercase tracking-widest mt-2 text-xs md:text-base">Công nghệ & Công cụ</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Software Skills -->
                        <div class="lg:col-span-2 bg-white border border-gray-200 p-6 md:p-8 rounded-sm hover:shadow-lg transition-shadow reveal fade-right">
                            <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-8 font-display uppercase flex items-center justify-start gap-2">
                                    <i data-lucide="cpu" class="text-navy-800"></i> Software Arsenal
                            </h3>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">
                                @for (skill of skills; track skill.name) {
                                    <div class="flex flex-col items-center p-4 border border-gray-100 hover:border-navy-800 rounded-sm transition-all group relative">
                                        <!-- Tooltip hidden on mobile to avoid covering -->
                                        <div class="absolute -top-8 opacity-0 group-hover:opacity-100 transition-opacity bg-navy-800 text-white text-[10px] px-2 py-1 font-bold uppercase rounded-sm whitespace-nowrap pointer-events-none z-10 shadow-lg hidden md:block">{{skill.name}}</div>
                                        <i [attr.data-lucide]="skill.icon" class="w-8 h-8 text-gray-400 group-hover:text-navy-800 mb-2 transition-transform group-hover:scale-110"></i>
                                        <span class="font-bold text-xs md:text-sm text-gray-900 text-center break-words w-full h-8 flex items-center justify-center">{{skill.name}}</span>
                                        <div class="w-full bg-gray-100 h-1 mt-2 rounded-full overflow-hidden">
                                            <div class="bg-navy-800 h-1" [style.width.%]="skill.level"></div>
                                        </div>
                                    </div>
                                }
                            </div>
                            
                            <div class="mt-8 md:mt-10 p-4 md:p-6 bg-beige-100 border-l-4 border-navy-800 flex items-start gap-4">
                                <div>
                                    <h4 class="text-gray-900 font-bold text-base md:text-lg font-display uppercase">AI Integration</h4>
                                    <p class="text-gray-600 text-xs md:text-sm mt-2 leading-relaxed">
                                        Sử dụng Midjourney & Stable Diffusion để tối ưu hóa quy trình concept. Tăng hiệu suất 200%.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Learning Path -->
                        <div class="bg-navy-900 p-6 md:p-8 rounded-sm text-white flex flex-col justify-between relative overflow-hidden reveal fade-left">
                            <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-navy-800 rounded-full opacity-50"></div>
                            <div>
                                <h3 class="text-lg md:text-xl font-bold mb-6 font-display uppercase flex items-center gap-2">
                                    <i data-lucide="graduation-cap" class="text-beige-200"></i> Learning Focus
                                </h3>
                                <p class="text-gray-300 text-xs md:text-sm mb-8 leading-relaxed">Là một sinh viên, tôi luôn dành 30% thời gian mỗi ngày để cập nhật công nghệ mới:</p>
                                <div class="space-y-4 relative z-10">
                                    <div class="flex items-center gap-3 p-3 bg-navy-800/50 rounded-sm border border-navy-700">
                                        <div class="w-2 h-2 bg-beige-200 rounded-full animate-pulse"></div>
                                        <span class="text-xs md:text-sm font-bold">3D Blender & Cinema 4D</span>
                                    </div>
                                    <div class="flex items-center gap-3 p-3 bg-navy-800/50 rounded-sm border border-navy-700">
                                        <div class="w-2 h-2 bg-beige-200 rounded-full animate-pulse"></div>
                                        <span class="text-xs md:text-sm font-bold">Motion Design (After Effects)</span>
                                    </div>
                                    <div class="flex items-center gap-3 p-3 bg-navy-800/50 rounded-sm border border-navy-700">
                                        <div class="w-2 h-2 bg-beige-200 rounded-full animate-pulse"></div>
                                        <span class="text-xs md:text-sm font-bold">Generative AI Art</span>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8 pt-6 border-t border-navy-700">
                                <p class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">Current Status: Learning</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        }

        <!-- PORTFOLIO VIEW -->
        @if (currentView() === 'portfolio') {
            <section class="py-12 md:py-20 bg-white relative overflow-hidden animate-fade-in-up">
                <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-beige-100/50 via-white to-white pointer-events-none"></div>
                
                <div class="container mx-auto px-6 relative z-10">
                    <div class="flex flex-col md:flex-row justify-between items-center md:items-end mb-12 border-b border-gray-200 pb-6 reveal fade-right text-left">
                        <div class="mb-6 md:mb-0">
                            <h1 class="text-4xl md:text-6xl font-black text-gray-900 font-display uppercase leading-tight">
                                Dự Án <span class="text-navy-800">.</span>
                            </h1>
                             <p class="text-gray-500 font-bold uppercase tracking-widest mt-2 text-xs md:text-base">Các sản phẩm tiêu biểu</p>
                        </div>
                        
                        <!-- Mobile Category Pills -->
                        <div class="flex flex-wrap justify-start md:justify-end gap-2 w-full md:w-auto">
                            @for (cat of categories; track cat) {
                                <button (click)="setCategory(cat)" 
                                        class="px-4 py-2 text-[10px] md:text-xs font-bold uppercase tracking-wider transition-all duration-300 rounded-full border border-gray-200"
                                        [class.bg-navy-800]="selectedCategory() === cat"
                                        [class.text-white]="selectedCategory() === cat"
                                        [class.border-navy-800]="selectedCategory() === cat"
                                        [class.bg-white]="selectedCategory() !== cat"
                                        [class.text-gray-500]="selectedCategory() !== cat"
                                        [class.hover:border-navy-800]="selectedCategory() !== cat"
                                        [class.hover:text-navy-800]="selectedCategory() !== cat">
                                    {{cat}}
                                </button>
                            }
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        @for (project of filteredProjects(); track project.id) {
                            <div class="group relative bg-white border border-gray-200 hover:border-navy-800 hover:shadow-lg transition-all rounded-sm flex flex-col reveal fade-up">
                                <div class="h-56 md:h-64 overflow-hidden bg-gray-100 relative cursor-pointer" (click)="openProject(project)">
                                    <img [src]="project.image" [alt]="project.title" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 grayscale group-hover:grayscale-0 rgb-split">
                                    <div class="absolute inset-0 bg-navy-900/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                        <span class="border border-white px-6 py-3 text-white font-bold uppercase tracking-widest text-xs">View Case Study</span>
                                    </div>
                                </div>
                                <div class="p-6 flex flex-col flex-grow">
                                    <span class="text-[10px] font-bold text-navy-800 uppercase tracking-widest border border-navy-100 bg-navy-50 px-2 py-1 w-fit mb-3">{{project.category}}</span>
                                    <h3 class="text-lg md:text-xl font-black text-gray-900 mb-2 font-display uppercase">{{project.title}}</h3>
                                    <p class="text-gray-600 text-sm mb-4 line-clamp-2">{{project.description}}</p>
                                    <button (click)="openProject(project)" class="mt-auto w-full py-3 bg-gray-50 border border-gray-200 hover:bg-navy-800 hover:text-white text-xs font-bold uppercase tracking-widest transition-all rounded-sm flex items-center justify-center gap-2 group/btn">
                                        View More <i data-lucide="arrow-right" class="w-4 h-4 group-hover/btn:translate-x-1 transition-transform"></i>
                                    </button>
                                </div>
                            </div>
                        }
                    </div>

                     <div class="text-center mt-12 md:mt-20 reveal fade-up">
                        <a href="#" class="inline-flex items-center gap-2 text-gray-500 border-b border-navy-800 pb-1 hover:text-navy-800 transition-colors uppercase text-xs font-bold tracking-widest">
                            Xem thêm trên Behance <i data-lucide="external-link" class="w-4 h-4"></i>
                        </a>
                    </div>
                </div>
            </section>
        }

        <!-- CONTACT VIEW -->
        @if (currentView() === 'contact') {
            <section class="py-12 md:py-20 bg-white min-h-screen animate-fade-in-up">
                    <div class="container mx-auto px-6">
                         <div class="mb-12 border-b border-gray-200 pb-6 text-left">
                            <h1 class="text-4xl md:text-6xl font-black text-gray-900 font-display uppercase tracking-tight">Liên Hệ</h1>
                            <p class="text-navy-800 font-bold uppercase tracking-widest mt-2 text-xs md:text-base">Kết nối để hợp tác</p>
                        </div>

                    <div class="flex flex-col md:flex-row gap-12 md:gap-32">
                        <div class="md:w-5/12 reveal fade-right text-left">
                            <p class="text-gray-600 mb-8 md:mb-12 text-base md:text-lg leading-relaxed">Gửi email để nhận báo giá chi tiết hoặc trao đổi công việc. Tôi luôn sẵn sàng lắng nghe ý tưởng của bạn.</p>
                            <div class="space-y-6 md:space-y-8 border-l-2 border-navy-800 pl-8">
                                <div class="bg-transparent rounded-none">
                                    <p class="text-xs text-navy-800 uppercase tracking-widest font-bold mb-1">Email</p>
                                    <a href="mailto:treny35@gmail.com" class="text-xl md:text-2xl font-display font-bold text-gray-900 hover:text-navy-800 break-all">treny35@gmail.com</a>
                                </div>
                                <div class="bg-transparent rounded-none">
                                    <p class="text-xs text-navy-800 uppercase tracking-widest font-bold mb-1">Phone</p>
                                    <a href="tel:+84392399722" class="text-xl md:text-2xl font-display font-bold text-gray-900 hover:text-navy-800">+84 392 399 722</a>
                                </div>
                            </div>
                            <div class="mt-12 md:mt-16 flex justify-start gap-4">
                                <a href="#" class="w-12 h-12 border border-gray-200 flex items-center justify-center text-gray-400 hover:bg-navy-800 hover:text-white transition-all rounded-sm"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
                                <a href="#" class="w-12 h-12 border border-gray-200 flex items-center justify-center text-gray-400 hover:bg-navy-800 hover:text-white transition-all rounded-sm"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                                <a href="#" class="w-12 h-12 border border-gray-200 flex items-center justify-center text-gray-400 hover:bg-navy-800 hover:text-white transition-all rounded-sm"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                            </div>
                        </div>
                        <div class="md:w-7/12 reveal fade-left">
                            <form class="space-y-6 md:space-y-8 bg-beige-100 p-6 md:p-10 rounded-sm border border-gray-200" onsubmit="event.preventDefault(); alert('Tin nhắn đã được gửi!');">
                                <input type="text" placeholder="Tên của bạn" class="w-full bg-white border border-gray-300 py-3 px-4 md:py-4 md:px-4 rounded-sm focus:border-navy-800 outline-none" />
                                <input type="email" placeholder="Email" class="w-full bg-white border border-gray-300 py-3 px-4 md:py-4 md:px-4 rounded-sm focus:border-navy-800 outline-none" />
                                <textarea rows="4" placeholder="Tin nhắn..." class="w-full bg-white border border-gray-300 py-3 px-4 md:py-4 md:px-4 rounded-sm focus:border-navy-800 outline-none"></textarea>
                                <button class="px-8 py-4 md:px-12 md:py-5 bg-navy-800 text-white font-bold uppercase tracking-widest hover:bg-navy-700 transition-colors w-full md:w-auto rounded-sm shadow-lg text-sm md:text-base">Gửi tin nhắn</button>
                            </form>
                        </div>
                    </div>
                    </div>
            </section>
        }
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 py-8 md:py-12 relative z-10">
        <div class="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-center md:text-left">
                <button (click)="navigateTo('home')" class="text-lg md:text-xl font-bold font-display tracking-tighter block mb-2 uppercase group">
                    <span class="text-white group-hover:text-gray-300 transition-colors">Mạnh</span>
                    <span class="text-navy-800 group-hover:text-navy-700 transition-colors">Toàn</span>
                    <span class="text-gray-500">.</span>
                </button>
                <p class="text-gray-500 text-[10px] md:text-xs uppercase tracking-wider font-bold">© 2024 Bùi Mạnh Toàn. All rights reserved.</p>
            </div>
            <div class="flex gap-6 md:gap-8 text-[10px] md:text-xs font-bold uppercase tracking-widest text-gray-500">
                <a href="#" class="hover:text-white transition-colors">Terms</a>
                <a href="#" class="hover:text-white transition-colors">Privacy</a>
                <a href="#" class="hover:text-white transition-colors">Cookies</a>
            </div>
            <button (click)="isScrolled.set(false); scrollProgress.set(0); " onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="w-10 h-10 md:w-12 md:h-12 bg-gray-800 flex items-center justify-center text-white border border-gray-700 hover:bg-navy-800 transition-colors rounded-sm">
                <i data-lucide="arrow-up"></i>
            </button>
        </div>
    </footer>
</div>

<!-- Project Detail Modal -->
@if (selectedProject(); as project) {
    <div class="min-h-screen bg-white text-gray-900 pt-24 pb-20 fixed inset-0 z-[100] overflow-y-auto animate-fade-in-up">
        <div class="container mx-auto px-6">
            <div class="mb-8">
                <button (click)="closeProject()" class="group flex items-center gap-2 text-gray-500 hover:text-navy-800 transition-colors uppercase text-xs font-bold tracking-widest">
                    <i data-lucide="arrow-left" class="w-4 h-4 group-hover:-translate-x-1 transition-transform"></i> Quay lại danh sách
                </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-12 mb-12 md:mb-16">
                <div class="lg:col-span-2">
                    <span class="inline-block px-3 py-1 mb-4 border border-navy-800 text-navy-800 text-[10px] uppercase font-bold tracking-widest">{{project.category}}</span>
                    <h1 class="text-3xl md:text-6xl font-black font-display uppercase leading-none mb-4 md:mb-6">{{project.title}}</h1>
                    <p class="text-gray-600 text-base md:text-lg leading-relaxed">{{project.description}}</p>
                </div>
                <div class="lg:col-span-1 flex flex-col justify-end">
                    <div class="p-6 border border-gray-200 bg-beige-100 rounded-sm">
                        <h3 class="text-navy-800 font-bold uppercase text-xs tracking-widest mb-4 border-b border-gray-300 pb-2">Thông tin dự án</h3>
                        <div class="space-y-4">
                            <div>
                                <span class="text-gray-500 text-xs uppercase block mb-1">Tools</span>
                                <div class="flex flex-wrap gap-2">
                                    @for (tool of project.tools; track tool) {
                                        <span class="text-gray-700 font-mono text-xs bg-white border border-gray-200 px-2 py-1">{{tool}}</span>
                                    }
                                </div>
                            </div>
                            <button class="w-full mt-4 bg-navy-800 text-white font-bold uppercase text-xs py-3 tracking-widest hover:bg-navy-700 transition-colors rounded-sm">Visit Live Site</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="w-full h-[40vh] md:h-[70vh] mb-8 md:mb-12 overflow-hidden border border-gray-200 shadow-lg">
                <img [src]="project.image" class="w-full h-full object-cover" />
            </div>

            <div class="mb-20">
                    <div class="flex items-center gap-4 mb-8"><div class="h-[1px] w-12 bg-navy-800"></div><span class="text-gray-900 font-bold tracking-widest uppercase text-sm font-display">Gallery</span><div class="h-[1px] flex-grow bg-gray-200"></div></div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    @for (img of project.gallery; track img) {
                        <div class="group relative overflow-hidden border border-gray-200 bg-gray-50 rounded-sm shadow-sm">
                            <img [src]="img" class="w-full h-auto object-cover transition-all duration-500 grayscale group-hover:grayscale-0" />
                        </div>
                    }
                    </div>
            </div>

            <!-- Bottom Nav -->
            <div class="border-t border-gray-200 pt-12 flex justify-center mt-12">
                <p class="text-gray-400 font-mono text-xs">End of Project Showcase</p>
            </div>
        </div>
    </div>
}